{"remainingRequest":"/Users/qiushunqun/Desktop/yanMieeMie/GitHub/crmnote/node_modules/thread-loader/dist/cjs.js!/Users/qiushunqun/Desktop/yanMieeMie/GitHub/crmnote/node_modules/babel-loader/lib/index.js!/Users/qiushunqun/Desktop/yanMieeMie/GitHub/crmnote/node_modules/eslint-loader/index.js??ref--13-0!/Users/qiushunqun/Desktop/yanMieeMie/GitHub/crmnote/src/vuedraggable.js","dependencies":[{"path":"/Users/qiushunqun/Desktop/yanMieeMie/GitHub/crmnote/src/vuedraggable.js","mtime":1635432551944},{"path":"/Users/qiushunqun/Desktop/yanMieeMie/GitHub/crmnote/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qiushunqun/Desktop/yanMieeMie/GitHub/crmnote/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qiushunqun/Desktop/yanMieeMie/GitHub/crmnote/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/qiushunqun/Desktop/yanMieeMie/GitHub/crmnote/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluZGV4LW9mIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3RhcnRzLXdpdGgiOwppbXBvcnQgX3NsaWNlZFRvQXJyYXkgZnJvbSAiL1VzZXJzL3FpdXNodW5xdW4vRGVza3RvcC95YW5NaWVlTWllL0dpdEh1Yi9jcm1ub3RlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zbGljZWRUb0FycmF5IjsKaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVXNlcnMvcWl1c2h1bnF1bi9EZXNrdG9wL3lhbk1pZWVNaWUvR2l0SHViL2NybW5vdGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0IFNvcnRhYmxlIGZyb20gInNvcnRhYmxlanMiOwppbXBvcnQgeyBpbnNlcnROb2RlQXQsIGNhbWVsaXplLCBjb25zb2xlLCByZW1vdmVOb2RlIH0gZnJvbSAiLi91dGlsL2hlbHBlciI7CgpmdW5jdGlvbiBidWlsZEF0dHJpYnV0ZShvYmplY3QsIHByb3BOYW1lLCB2YWx1ZSkgewogIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7CiAgICByZXR1cm4gb2JqZWN0OwogIH0KCiAgb2JqZWN0ID0gb2JqZWN0IHx8IHt9OwogIG9iamVjdFtwcm9wTmFtZV0gPSB2YWx1ZTsKICByZXR1cm4gb2JqZWN0Owp9CgpmdW5jdGlvbiBjb21wdXRlVm1JbmRleCh2bm9kZXMsIGVsZW1lbnQpIHsKICByZXR1cm4gdm5vZGVzLm1hcChmdW5jdGlvbiAoZWx0KSB7CiAgICByZXR1cm4gZWx0LmVsbTsKICB9KS5pbmRleE9mKGVsZW1lbnQpOwp9CgpmdW5jdGlvbiBfY29tcHV0ZUluZGV4ZXMoc2xvdHMsIGNoaWxkcmVuLCBpc1RyYW5zaXRpb24sIGZvb3Rlck9mZnNldCkgewogIGlmICghc2xvdHMpIHsKICAgIHJldHVybiBbXTsKICB9CgogIHZhciBlbG1Gcm9tTm9kZXMgPSBzbG90cy5tYXAoZnVuY3Rpb24gKGVsdCkgewogICAgcmV0dXJuIGVsdC5lbG07CiAgfSk7CiAgdmFyIGZvb3RlckluZGV4ID0gY2hpbGRyZW4ubGVuZ3RoIC0gZm9vdGVyT2Zmc2V0OwoKICB2YXIgcmF3SW5kZXhlcyA9IF90b0NvbnN1bWFibGVBcnJheShjaGlsZHJlbikubWFwKGZ1bmN0aW9uIChlbHQsIGlkeCkgewogICAgcmV0dXJuIGlkeCA+PSBmb290ZXJJbmRleCA/IGVsbUZyb21Ob2Rlcy5sZW5ndGggOiBlbG1Gcm9tTm9kZXMuaW5kZXhPZihlbHQpOwogIH0pOwoKICByZXR1cm4gaXNUcmFuc2l0aW9uID8gcmF3SW5kZXhlcy5maWx0ZXIoZnVuY3Rpb24gKGluZCkgewogICAgcmV0dXJuIGluZCAhPT0gLTE7CiAgfSkgOiByYXdJbmRleGVzOwp9CgpmdW5jdGlvbiBlbWl0KGV2dE5hbWUsIGV2dERhdGEpIHsKICB2YXIgX3RoaXMgPSB0aGlzOwoKICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gX3RoaXMuJGVtaXQoZXZ0TmFtZS50b0xvd2VyQ2FzZSgpLCBldnREYXRhKTsKICB9KTsKfQoKZnVuY3Rpb24gZGVsZWdhdGVBbmRFbWl0KGV2dE5hbWUpIHsKICB2YXIgX3RoaXMyID0gdGhpczsKCiAgcmV0dXJuIGZ1bmN0aW9uIChldnREYXRhKSB7CiAgICBpZiAoX3RoaXMyLnJlYWxMaXN0ICE9PSBudWxsKSB7CiAgICAgIF90aGlzMlsib25EcmFnIiArIGV2dE5hbWVdKGV2dERhdGEpOwogICAgfQoKICAgIGVtaXQuY2FsbChfdGhpczIsIGV2dE5hbWUsIGV2dERhdGEpOwogIH07Cn0KCmZ1bmN0aW9uIGlzVHJhbnNpdGlvbk5hbWUobmFtZSkgewogIHJldHVybiBbInRyYW5zaXRpb24tZ3JvdXAiLCAiVHJhbnNpdGlvbkdyb3VwIl0uaW5jbHVkZXMobmFtZSk7Cn0KCmZ1bmN0aW9uIGlzVHJhbnNpdGlvbihzbG90cykgewogIGlmICghc2xvdHMgfHwgc2xvdHMubGVuZ3RoICE9PSAxKSB7CiAgICByZXR1cm4gZmFsc2U7CiAgfQoKICB2YXIgX3Nsb3RzID0gX3NsaWNlZFRvQXJyYXkoc2xvdHMsIDEpLAogICAgICBjb21wb25lbnRPcHRpb25zID0gX3Nsb3RzWzBdLmNvbXBvbmVudE9wdGlvbnM7CgogIGlmICghY29tcG9uZW50T3B0aW9ucykgewogICAgcmV0dXJuIGZhbHNlOwogIH0KCiAgcmV0dXJuIGlzVHJhbnNpdGlvbk5hbWUoY29tcG9uZW50T3B0aW9ucy50YWcpOwp9CgpmdW5jdGlvbiBnZXRTbG90KHNsb3QsIHNjb3BlZFNsb3QsIGtleSkgewogIHJldHVybiBzbG90W2tleV0gfHwgKHNjb3BlZFNsb3Rba2V5XSA/IHNjb3BlZFNsb3Rba2V5XSgpIDogdW5kZWZpbmVkKTsKfQoKZnVuY3Rpb24gY29tcHV0ZUNoaWxkcmVuQW5kT2Zmc2V0cyhjaGlsZHJlbiwgc2xvdCwgc2NvcGVkU2xvdCkgewogIHZhciBoZWFkZXJPZmZzZXQgPSAwOwogIHZhciBmb290ZXJPZmZzZXQgPSAwOwogIHZhciBoZWFkZXIgPSBnZXRTbG90KHNsb3QsIHNjb3BlZFNsb3QsICJoZWFkZXIiKTsKCiAgaWYgKGhlYWRlcikgewogICAgaGVhZGVyT2Zmc2V0ID0gaGVhZGVyLmxlbmd0aDsKICAgIGNoaWxkcmVuID0gY2hpbGRyZW4gPyBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KGhlYWRlciksIF90b0NvbnN1bWFibGVBcnJheShjaGlsZHJlbikpIDogX3RvQ29uc3VtYWJsZUFycmF5KGhlYWRlcik7CiAgfQoKICB2YXIgZm9vdGVyID0gZ2V0U2xvdChzbG90LCBzY29wZWRTbG90LCAiZm9vdGVyIik7CgogIGlmIChmb290ZXIpIHsKICAgIGZvb3Rlck9mZnNldCA9IGZvb3Rlci5sZW5ndGg7CiAgICBjaGlsZHJlbiA9IGNoaWxkcmVuID8gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShjaGlsZHJlbiksIF90b0NvbnN1bWFibGVBcnJheShmb290ZXIpKSA6IF90b0NvbnN1bWFibGVBcnJheShmb290ZXIpOwogIH0KCiAgcmV0dXJuIHsKICAgIGNoaWxkcmVuOiBjaGlsZHJlbiwKICAgIGhlYWRlck9mZnNldDogaGVhZGVyT2Zmc2V0LAogICAgZm9vdGVyT2Zmc2V0OiBmb290ZXJPZmZzZXQKICB9Owp9CgpmdW5jdGlvbiBnZXRDb21wb25lbnRBdHRyaWJ1dGVzKCRhdHRycywgY29tcG9uZW50RGF0YSkgewogIHZhciBhdHRyaWJ1dGVzID0gbnVsbDsKCiAgdmFyIHVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZShuYW1lLCB2YWx1ZSkgewogICAgYXR0cmlidXRlcyA9IGJ1aWxkQXR0cmlidXRlKGF0dHJpYnV0ZXMsIG5hbWUsIHZhbHVlKTsKICB9OwoKICB2YXIgYXR0cnMgPSBPYmplY3Qua2V5cygkYXR0cnMpLmZpbHRlcihmdW5jdGlvbiAoa2V5KSB7CiAgICByZXR1cm4ga2V5ID09PSAiaWQiIHx8IGtleS5zdGFydHNXaXRoKCJkYXRhLSIpOwogIH0pLnJlZHVjZShmdW5jdGlvbiAocmVzLCBrZXkpIHsKICAgIHJlc1trZXldID0gJGF0dHJzW2tleV07CiAgICByZXR1cm4gcmVzOwogIH0sIHt9KTsKICB1cGRhdGUoImF0dHJzIiwgYXR0cnMpOwoKICBpZiAoIWNvbXBvbmVudERhdGEpIHsKICAgIHJldHVybiBhdHRyaWJ1dGVzOwogIH0KCiAgdmFyIG9uID0gY29tcG9uZW50RGF0YS5vbiwKICAgICAgcHJvcHMgPSBjb21wb25lbnREYXRhLnByb3BzLAogICAgICBjb21wb25lbnREYXRhQXR0cnMgPSBjb21wb25lbnREYXRhLmF0dHJzOwogIHVwZGF0ZSgib24iLCBvbik7CiAgdXBkYXRlKCJwcm9wcyIsIHByb3BzKTsKICBPYmplY3QuYXNzaWduKGF0dHJpYnV0ZXMuYXR0cnMsIGNvbXBvbmVudERhdGFBdHRycyk7CiAgcmV0dXJuIGF0dHJpYnV0ZXM7Cn0KCnZhciBldmVudHNMaXN0ZW5lZCA9IFsiU3RhcnQiLCAiQWRkIiwgIlJlbW92ZSIsICJVcGRhdGUiLCAiRW5kIl07CnZhciBldmVudHNUb0VtaXQgPSBbIkNob29zZSIsICJVbmNob29zZSIsICJTb3J0IiwgIkZpbHRlciIsICJDbG9uZSJdOwp2YXIgcmVhZG9ubHlQcm9wZXJ0aWVzID0gWyJNb3ZlIl0uY29uY2F0KGV2ZW50c0xpc3RlbmVkLCBldmVudHNUb0VtaXQpLm1hcChmdW5jdGlvbiAoZXZ0KSB7CiAgcmV0dXJuICJvbiIgKyBldnQ7Cn0pOwp2YXIgZHJhZ2dpbmdFbGVtZW50ID0gbnVsbDsKdmFyIHByb3BzID0gewogIG9wdGlvbnM6IE9iamVjdCwKICBsaXN0OiB7CiAgICB0eXBlOiBBcnJheSwKICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgIGRlZmF1bHQ6IG51bGwKICB9LAogIHZhbHVlOiB7CiAgICB0eXBlOiBBcnJheSwKICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgIGRlZmF1bHQ6IG51bGwKICB9LAogIG5vVHJhbnNpdGlvbk9uRHJhZzogewogICAgdHlwZTogQm9vbGVhbiwKICAgIGRlZmF1bHQ6IGZhbHNlCiAgfSwKICBjbG9uZTogewogICAgdHlwZTogRnVuY3Rpb24sCiAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdChvcmlnaW5hbCkgewogICAgICByZXR1cm4gb3JpZ2luYWw7CiAgICB9CiAgfSwKICBlbGVtZW50OiB7CiAgICB0eXBlOiBTdHJpbmcsCiAgICBkZWZhdWx0OiAiZGl2IgogIH0sCiAgdGFnOiB7CiAgICB0eXBlOiBTdHJpbmcsCiAgICBkZWZhdWx0OiBudWxsCiAgfSwKICBtb3ZlOiB7CiAgICB0eXBlOiBGdW5jdGlvbiwKICAgIGRlZmF1bHQ6IG51bGwKICB9LAogIGNvbXBvbmVudERhdGE6IHsKICAgIHR5cGU6IE9iamVjdCwKICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgIGRlZmF1bHQ6IG51bGwKICB9Cn07CnZhciBkcmFnZ2FibGVDb21wb25lbnQgPSB7CiAgbmFtZTogImRyYWdnYWJsZSIsCiAgaW5oZXJpdEF0dHJzOiBmYWxzZSwKICBwcm9wczogcHJvcHMsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRyYW5zaXRpb25Nb2RlOiBmYWxzZSwKICAgICAgbm9uZUZ1bmN0aW9uYWxDb21wb25lbnRNb2RlOiBmYWxzZQogICAgfTsKICB9LAogIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgpIHsKICAgIHZhciBzbG90cyA9IHRoaXMuJHNsb3RzLmRlZmF1bHQ7CiAgICB0aGlzLnRyYW5zaXRpb25Nb2RlID0gaXNUcmFuc2l0aW9uKHNsb3RzKTsKCiAgICB2YXIgX2NvbXB1dGVDaGlsZHJlbkFuZE9mID0gY29tcHV0ZUNoaWxkcmVuQW5kT2Zmc2V0cyhzbG90cywgdGhpcy4kc2xvdHMsIHRoaXMuJHNjb3BlZFNsb3RzKSwKICAgICAgICBjaGlsZHJlbiA9IF9jb21wdXRlQ2hpbGRyZW5BbmRPZi5jaGlsZHJlbiwKICAgICAgICBoZWFkZXJPZmZzZXQgPSBfY29tcHV0ZUNoaWxkcmVuQW5kT2YuaGVhZGVyT2Zmc2V0LAogICAgICAgIGZvb3Rlck9mZnNldCA9IF9jb21wdXRlQ2hpbGRyZW5BbmRPZi5mb290ZXJPZmZzZXQ7CgogICAgdGhpcy5oZWFkZXJPZmZzZXQgPSBoZWFkZXJPZmZzZXQ7CiAgICB0aGlzLmZvb3Rlck9mZnNldCA9IGZvb3Rlck9mZnNldDsKICAgIHZhciBhdHRyaWJ1dGVzID0gZ2V0Q29tcG9uZW50QXR0cmlidXRlcyh0aGlzLiRhdHRycywgdGhpcy5jb21wb25lbnREYXRhKTsKICAgIHJldHVybiBoKHRoaXMuZ2V0VGFnKCksIGF0dHJpYnV0ZXMsIGNoaWxkcmVuKTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICBpZiAodGhpcy5saXN0ICE9PSBudWxsICYmIHRoaXMudmFsdWUgIT09IG51bGwpIHsKICAgICAgY29uc29sZS5lcnJvcigiVmFsdWUgYW5kIGxpc3QgcHJvcHMgYXJlIG11dHVhbGx5IGV4Y2x1c2l2ZSEgUGxlYXNlIHNldCBvbmUgb3IgYW5vdGhlci4iKTsKICAgIH0KCiAgICBpZiAodGhpcy5lbGVtZW50ICE9PSAiZGl2IikgewogICAgICBjb25zb2xlLndhcm4oIkVsZW1lbnQgcHJvcHMgaXMgZGVwcmVjYXRlZCBwbGVhc2UgdXNlIHRhZyBwcm9wcyBpbnN0ZWFkLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL1NvcnRhYmxlSlMvVnVlLkRyYWdnYWJsZS9ibG9iL21hc3Rlci9kb2N1bWVudGF0aW9uL21pZ3JhdGUubWQjZWxlbWVudC1wcm9wcyIpOwogICAgfQoKICAgIGlmICh0aGlzLm9wdGlvbnMgIT09IHVuZGVmaW5lZCkgewogICAgICBjb25zb2xlLndhcm4oIk9wdGlvbnMgcHJvcHMgaXMgZGVwcmVjYXRlZCwgYWRkIHNvcnRhYmxlIG9wdGlvbnMgZGlyZWN0bHkgYXMgdnVlLmRyYWdnYWJsZSBpdGVtLCBvciB1c2Ugdi1iaW5kLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL1NvcnRhYmxlSlMvVnVlLkRyYWdnYWJsZS9ibG9iL21hc3Rlci9kb2N1bWVudGF0aW9uL21pZ3JhdGUubWQjb3B0aW9ucy1wcm9wcyIpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgIHRoaXMubm9uZUZ1bmN0aW9uYWxDb21wb25lbnRNb2RlID0gdGhpcy5nZXRUYWcoKS50b0xvd2VyQ2FzZSgpICE9PSB0aGlzLiRlbC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICYmICF0aGlzLmdldElzRnVuY3Rpb25hbCgpOwoKICAgIGlmICh0aGlzLm5vbmVGdW5jdGlvbmFsQ29tcG9uZW50TW9kZSAmJiB0aGlzLnRyYW5zaXRpb25Nb2RlKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcigiVHJhbnNpdGlvbi1ncm91cCBpbnNpZGUgY29tcG9uZW50IGlzIG5vdCBzdXBwb3J0ZWQuIFBsZWFzZSBhbHRlciB0YWcgdmFsdWUgb3IgcmVtb3ZlIHRyYW5zaXRpb24tZ3JvdXAuIEN1cnJlbnQgdGFnIHZhbHVlOiAiLmNvbmNhdCh0aGlzLmdldFRhZygpKSk7CiAgICB9CgogICAgdmFyIG9wdGlvbnNBZGRlZCA9IHt9OwogICAgZXZlbnRzTGlzdGVuZWQuZm9yRWFjaChmdW5jdGlvbiAoZWx0KSB7CiAgICAgIG9wdGlvbnNBZGRlZFsib24iICsgZWx0XSA9IGRlbGVnYXRlQW5kRW1pdC5jYWxsKF90aGlzMywgZWx0KTsKICAgIH0pOwogICAgZXZlbnRzVG9FbWl0LmZvckVhY2goZnVuY3Rpb24gKGVsdCkgewogICAgICBvcHRpb25zQWRkZWRbIm9uIiArIGVsdF0gPSBlbWl0LmJpbmQoX3RoaXMzLCBlbHQpOwogICAgfSk7CiAgICB2YXIgYXR0cmlidXRlcyA9IE9iamVjdC5rZXlzKHRoaXMuJGF0dHJzKS5yZWR1Y2UoZnVuY3Rpb24gKHJlcywga2V5KSB7CiAgICAgIHJlc1tjYW1lbGl6ZShrZXkpXSA9IF90aGlzMy4kYXR0cnNba2V5XTsKICAgICAgcmV0dXJuIHJlczsKICAgIH0sIHt9KTsKICAgIHZhciBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5vcHRpb25zLCBhdHRyaWJ1dGVzLCBvcHRpb25zQWRkZWQsIHsKICAgICAgb25Nb3ZlOiBmdW5jdGlvbiBvbk1vdmUoZXZ0LCBvcmlnaW5hbEV2ZW50KSB7CiAgICAgICAgcmV0dXJuIF90aGlzMy5vbkRyYWdNb3ZlKGV2dCwgb3JpZ2luYWxFdmVudCk7CiAgICAgIH0KICAgIH0pOwogICAgISgiZHJhZ2dhYmxlIiBpbiBvcHRpb25zKSAmJiAob3B0aW9ucy5kcmFnZ2FibGUgPSAiPioiKTsKICAgIHRoaXMuX3NvcnRhYmxlID0gbmV3IFNvcnRhYmxlKHRoaXMucm9vdENvbnRhaW5lciwgb3B0aW9ucyk7CiAgICB0aGlzLmNvbXB1dGVJbmRleGVzKCk7CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgaWYgKHRoaXMuX3NvcnRhYmxlICE9PSB1bmRlZmluZWQpIHRoaXMuX3NvcnRhYmxlLmRlc3Ryb3koKTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICByb290Q29udGFpbmVyOiBmdW5jdGlvbiByb290Q29udGFpbmVyKCkgewogICAgICByZXR1cm4gdGhpcy50cmFuc2l0aW9uTW9kZSA/IHRoaXMuJGVsLmNoaWxkcmVuWzBdIDogdGhpcy4kZWw7CiAgICB9LAogICAgcmVhbExpc3Q6IGZ1bmN0aW9uIHJlYWxMaXN0KCkgewogICAgICByZXR1cm4gdGhpcy5saXN0ID8gdGhpcy5saXN0IDogdGhpcy52YWx1ZTsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBvcHRpb25zOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIobmV3T3B0aW9uVmFsdWUpIHsKICAgICAgICB0aGlzLnVwZGF0ZU9wdGlvbnMobmV3T3B0aW9uVmFsdWUpOwogICAgICB9LAogICAgICBkZWVwOiB0cnVlCiAgICB9LAogICAgJGF0dHJzOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIobmV3T3B0aW9uVmFsdWUpIHsKICAgICAgICB0aGlzLnVwZGF0ZU9wdGlvbnMobmV3T3B0aW9uVmFsdWUpOwogICAgICB9LAogICAgICBkZWVwOiB0cnVlCiAgICB9LAogICAgcmVhbExpc3Q6IGZ1bmN0aW9uIHJlYWxMaXN0KCkgewogICAgICB0aGlzLmNvbXB1dGVJbmRleGVzKCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRJc0Z1bmN0aW9uYWw6IGZ1bmN0aW9uIGdldElzRnVuY3Rpb25hbCgpIHsKICAgICAgdmFyIGZuT3B0aW9ucyA9IHRoaXMuX3Zub2RlLmZuT3B0aW9uczsKICAgICAgcmV0dXJuIGZuT3B0aW9ucyAmJiBmbk9wdGlvbnMuZnVuY3Rpb25hbDsKICAgIH0sCiAgICBnZXRUYWc6IGZ1bmN0aW9uIGdldFRhZygpIHsKICAgICAgcmV0dXJuIHRoaXMudGFnIHx8IHRoaXMuZWxlbWVudDsKICAgIH0sCiAgICB1cGRhdGVPcHRpb25zOiBmdW5jdGlvbiB1cGRhdGVPcHRpb25zKG5ld09wdGlvblZhbHVlKSB7CiAgICAgIGZvciAodmFyIHByb3BlcnR5IGluIG5ld09wdGlvblZhbHVlKSB7CiAgICAgICAgdmFyIHZhbHVlID0gY2FtZWxpemUocHJvcGVydHkpOwoKICAgICAgICBpZiAocmVhZG9ubHlQcm9wZXJ0aWVzLmluZGV4T2YodmFsdWUpID09PSAtMSkgewogICAgICAgICAgdGhpcy5fc29ydGFibGUub3B0aW9uKHZhbHVlLCBuZXdPcHRpb25WYWx1ZVtwcm9wZXJ0eV0pOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGdldENoaWxkcmVuTm9kZXM6IGZ1bmN0aW9uIGdldENoaWxkcmVuTm9kZXMoKSB7CiAgICAgIGlmICh0aGlzLm5vbmVGdW5jdGlvbmFsQ29tcG9uZW50TW9kZSkgewogICAgICAgIHJldHVybiB0aGlzLiRjaGlsZHJlblswXS4kc2xvdHMuZGVmYXVsdDsKICAgICAgfQoKICAgICAgdmFyIHJhd05vZGVzID0gdGhpcy4kc2xvdHMuZGVmYXVsdDsKICAgICAgcmV0dXJuIHRoaXMudHJhbnNpdGlvbk1vZGUgPyByYXdOb2Rlc1swXS5jaGlsZC4kc2xvdHMuZGVmYXVsdCA6IHJhd05vZGVzOwogICAgfSwKICAgIGNvbXB1dGVJbmRleGVzOiBmdW5jdGlvbiBjb21wdXRlSW5kZXhlcygpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM0LnZpc2libGVJbmRleGVzID0gX2NvbXB1dGVJbmRleGVzKF90aGlzNC5nZXRDaGlsZHJlbk5vZGVzKCksIF90aGlzNC5yb290Q29udGFpbmVyLmNoaWxkcmVuLCBfdGhpczQudHJhbnNpdGlvbk1vZGUsIF90aGlzNC5mb290ZXJPZmZzZXQpOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRVbmRlcmx5aW5nVm06IGZ1bmN0aW9uIGdldFVuZGVybHlpbmdWbShodG1sRWx0KSB7CiAgICAgIHZhciBpbmRleCA9IGNvbXB1dGVWbUluZGV4KHRoaXMuZ2V0Q2hpbGRyZW5Ob2RlcygpIHx8IFtdLCBodG1sRWx0KTsKCiAgICAgIGlmIChpbmRleCA9PT0gLTEpIHsKICAgICAgICAvL0VkZ2UgY2FzZSBkdXJpbmcgbW92ZSBjYWxsYmFjazogcmVsYXRlZCBlbGVtZW50IG1pZ2h0IGJlCiAgICAgICAgLy9hbiBlbGVtZW50IGRpZmZlcmVudCBmcm9tIGNvbGxlY3Rpb24KICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQoKICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLnJlYWxMaXN0W2luZGV4XTsKICAgICAgcmV0dXJuIHsKICAgICAgICBpbmRleDogaW5kZXgsCiAgICAgICAgZWxlbWVudDogZWxlbWVudAogICAgICB9OwogICAgfSwKICAgIGdldFVuZGVybHlpbmdQb3RlbmNpYWxEcmFnZ2FibGVDb21wb25lbnQ6IGZ1bmN0aW9uIGdldFVuZGVybHlpbmdQb3RlbmNpYWxEcmFnZ2FibGVDb21wb25lbnQoX3JlZikgewogICAgICB2YXIgdnVlID0gX3JlZi5fX3Z1ZV9fOwoKICAgICAgaWYgKCF2dWUgfHwgIXZ1ZS4kb3B0aW9ucyB8fCAhaXNUcmFuc2l0aW9uTmFtZSh2dWUuJG9wdGlvbnMuX2NvbXBvbmVudFRhZykpIHsKICAgICAgICBpZiAoISgicmVhbExpc3QiIGluIHZ1ZSkgJiYgdnVlLiRjaGlsZHJlbi5sZW5ndGggPT09IDEgJiYgInJlYWxMaXN0IiBpbiB2dWUuJGNoaWxkcmVuWzBdKSByZXR1cm4gdnVlLiRjaGlsZHJlblswXTsKICAgICAgICByZXR1cm4gdnVlOwogICAgICB9CgogICAgICByZXR1cm4gdnVlLiRwYXJlbnQ7CiAgICB9LAogICAgZW1pdENoYW5nZXM6IGZ1bmN0aW9uIGVtaXRDaGFuZ2VzKGV2dCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczUuJGVtaXQoImNoYW5nZSIsIGV2dCk7CiAgICAgIH0pOwogICAgfSwKICAgIGFsdGVyTGlzdDogZnVuY3Rpb24gYWx0ZXJMaXN0KG9uTGlzdCkgewogICAgICBpZiAodGhpcy5saXN0KSB7CiAgICAgICAgb25MaXN0KHRoaXMubGlzdCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgbmV3TGlzdCA9IF90b0NvbnN1bWFibGVBcnJheSh0aGlzLnZhbHVlKTsKCiAgICAgIG9uTGlzdChuZXdMaXN0KTsKICAgICAgdGhpcy4kZW1pdCgiaW5wdXQiLCBuZXdMaXN0KTsKICAgIH0sCiAgICBzcGxpY2VMaXN0OiBmdW5jdGlvbiBzcGxpY2VMaXN0KCkgewogICAgICB2YXIgX2FyZ3VtZW50cyA9IGFyZ3VtZW50czsKCiAgICAgIHZhciBzcGxpY2VMaXN0ID0gZnVuY3Rpb24gc3BsaWNlTGlzdChsaXN0KSB7CiAgICAgICAgcmV0dXJuIGxpc3Quc3BsaWNlLmFwcGx5KGxpc3QsIF90b0NvbnN1bWFibGVBcnJheShfYXJndW1lbnRzKSk7CiAgICAgIH07CgogICAgICB0aGlzLmFsdGVyTGlzdChzcGxpY2VMaXN0KTsKICAgIH0sCiAgICB1cGRhdGVQb3NpdGlvbjogZnVuY3Rpb24gdXBkYXRlUG9zaXRpb24ob2xkSW5kZXgsIG5ld0luZGV4KSB7CiAgICAgIHZhciB1cGRhdGVQb3NpdGlvbiA9IGZ1bmN0aW9uIHVwZGF0ZVBvc2l0aW9uKGxpc3QpIHsKICAgICAgICByZXR1cm4gbGlzdC5zcGxpY2UobmV3SW5kZXgsIDAsIGxpc3Quc3BsaWNlKG9sZEluZGV4LCAxKVswXSk7CiAgICAgIH07CgogICAgICB0aGlzLmFsdGVyTGlzdCh1cGRhdGVQb3NpdGlvbik7CiAgICB9LAogICAgZ2V0UmVsYXRlZENvbnRleHRGcm9tTW92ZUV2ZW50OiBmdW5jdGlvbiBnZXRSZWxhdGVkQ29udGV4dEZyb21Nb3ZlRXZlbnQoX3JlZjIpIHsKICAgICAgdmFyIHRvID0gX3JlZjIudG8sCiAgICAgICAgICByZWxhdGVkID0gX3JlZjIucmVsYXRlZDsKICAgICAgdmFyIGNvbXBvbmVudCA9IHRoaXMuZ2V0VW5kZXJseWluZ1BvdGVuY2lhbERyYWdnYWJsZUNvbXBvbmVudCh0byk7CgogICAgICBpZiAoIWNvbXBvbmVudCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBjb21wb25lbnQ6IGNvbXBvbmVudAogICAgICAgIH07CiAgICAgIH0KCiAgICAgIHZhciBsaXN0ID0gY29tcG9uZW50LnJlYWxMaXN0OwogICAgICB2YXIgY29udGV4dCA9IHsKICAgICAgICBsaXN0OiBsaXN0LAogICAgICAgIGNvbXBvbmVudDogY29tcG9uZW50CiAgICAgIH07CgogICAgICBpZiAodG8gIT09IHJlbGF0ZWQgJiYgbGlzdCAmJiBjb21wb25lbnQuZ2V0VW5kZXJseWluZ1ZtKSB7CiAgICAgICAgdmFyIGRlc3RpbmF0aW9uID0gY29tcG9uZW50LmdldFVuZGVybHlpbmdWbShyZWxhdGVkKTsKCiAgICAgICAgaWYgKGRlc3RpbmF0aW9uKSB7CiAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihkZXN0aW5hdGlvbiwgY29udGV4dCk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gY29udGV4dDsKICAgIH0sCiAgICBnZXRWbUluZGV4OiBmdW5jdGlvbiBnZXRWbUluZGV4KGRvbUluZGV4KSB7CiAgICAgIHZhciBpbmRleGVzID0gdGhpcy52aXNpYmxlSW5kZXhlczsKICAgICAgdmFyIG51bWJlckluZGV4ZXMgPSBpbmRleGVzLmxlbmd0aDsKICAgICAgcmV0dXJuIGRvbUluZGV4ID4gbnVtYmVySW5kZXhlcyAtIDEgPyBudW1iZXJJbmRleGVzIDogaW5kZXhlc1tkb21JbmRleF07CiAgICB9LAogICAgZ2V0Q29tcG9uZW50OiBmdW5jdGlvbiBnZXRDb21wb25lbnQoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzbG90cy5kZWZhdWx0WzBdLmNvbXBvbmVudEluc3RhbmNlOwogICAgfSwKICAgIHJlc2V0VHJhbnNpdGlvbkRhdGE6IGZ1bmN0aW9uIHJlc2V0VHJhbnNpdGlvbkRhdGEoaW5kZXgpIHsKICAgICAgaWYgKCF0aGlzLm5vVHJhbnNpdGlvbk9uRHJhZyB8fCAhdGhpcy50cmFuc2l0aW9uTW9kZSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIG5vZGVzID0gdGhpcy5nZXRDaGlsZHJlbk5vZGVzKCk7CiAgICAgIG5vZGVzW2luZGV4XS5kYXRhID0gbnVsbDsKICAgICAgdmFyIHRyYW5zaXRpb25Db250YWluZXIgPSB0aGlzLmdldENvbXBvbmVudCgpOwogICAgICB0cmFuc2l0aW9uQ29udGFpbmVyLmNoaWxkcmVuID0gW107CiAgICAgIHRyYW5zaXRpb25Db250YWluZXIua2VwdCA9IHVuZGVmaW5lZDsKICAgIH0sCiAgICBvbkRyYWdTdGFydDogZnVuY3Rpb24gb25EcmFnU3RhcnQoZXZ0KSB7CiAgICAgIHRoaXMuY29udGV4dCA9IHRoaXMuZ2V0VW5kZXJseWluZ1ZtKGV2dC5pdGVtKTsKICAgICAgZXZ0Lml0ZW0uX3VuZGVybHlpbmdfdm1fID0gdGhpcy5jbG9uZSh0aGlzLmNvbnRleHQuZWxlbWVudCk7CiAgICAgIGRyYWdnaW5nRWxlbWVudCA9IGV2dC5pdGVtOwogICAgfSwKICAgIG9uRHJhZ0FkZDogZnVuY3Rpb24gb25EcmFnQWRkKGV2dCkgewogICAgICB2YXIgZWxlbWVudCA9IGV2dC5pdGVtLl91bmRlcmx5aW5nX3ZtXzsKCiAgICAgIGlmIChlbGVtZW50ID09PSB1bmRlZmluZWQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHJlbW92ZU5vZGUoZXZ0Lml0ZW0pOwogICAgICB2YXIgbmV3SW5kZXggPSB0aGlzLmdldFZtSW5kZXgoZXZ0Lm5ld0luZGV4KTsKICAgICAgdGhpcy5zcGxpY2VMaXN0KG5ld0luZGV4LCAwLCBlbGVtZW50KTsKICAgICAgdGhpcy5jb21wdXRlSW5kZXhlcygpOwogICAgICB2YXIgYWRkZWQgPSB7CiAgICAgICAgZWxlbWVudDogZWxlbWVudCwKICAgICAgICBuZXdJbmRleDogbmV3SW5kZXgKICAgICAgfTsKICAgICAgdGhpcy5lbWl0Q2hhbmdlcyh7CiAgICAgICAgYWRkZWQ6IGFkZGVkCiAgICAgIH0pOwogICAgfSwKICAgIG9uRHJhZ1JlbW92ZTogZnVuY3Rpb24gb25EcmFnUmVtb3ZlKGV2dCkgewogICAgICBpbnNlcnROb2RlQXQodGhpcy5yb290Q29udGFpbmVyLCBldnQuaXRlbSwgZXZ0Lm9sZEluZGV4KTsKCiAgICAgIGlmIChldnQucHVsbE1vZGUgPT09ICJjbG9uZSIpIHsKICAgICAgICByZW1vdmVOb2RlKGV2dC5jbG9uZSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgb2xkSW5kZXggPSB0aGlzLmNvbnRleHQuaW5kZXg7CiAgICAgIHRoaXMuc3BsaWNlTGlzdChvbGRJbmRleCwgMSk7CiAgICAgIHZhciByZW1vdmVkID0gewogICAgICAgIGVsZW1lbnQ6IHRoaXMuY29udGV4dC5lbGVtZW50LAogICAgICAgIG9sZEluZGV4OiBvbGRJbmRleAogICAgICB9OwogICAgICB0aGlzLnJlc2V0VHJhbnNpdGlvbkRhdGEob2xkSW5kZXgpOwogICAgICB0aGlzLmVtaXRDaGFuZ2VzKHsKICAgICAgICByZW1vdmVkOiByZW1vdmVkCiAgICAgIH0pOwogICAgfSwKICAgIG9uRHJhZ1VwZGF0ZTogZnVuY3Rpb24gb25EcmFnVXBkYXRlKGV2dCkgewogICAgICByZW1vdmVOb2RlKGV2dC5pdGVtKTsKICAgICAgaW5zZXJ0Tm9kZUF0KGV2dC5mcm9tLCBldnQuaXRlbSwgZXZ0Lm9sZEluZGV4KTsKICAgICAgdmFyIG9sZEluZGV4ID0gdGhpcy5jb250ZXh0LmluZGV4OwogICAgICB2YXIgbmV3SW5kZXggPSB0aGlzLmdldFZtSW5kZXgoZXZ0Lm5ld0luZGV4KTsKICAgICAgdGhpcy51cGRhdGVQb3NpdGlvbihvbGRJbmRleCwgbmV3SW5kZXgpOwogICAgICB2YXIgbW92ZWQgPSB7CiAgICAgICAgZWxlbWVudDogdGhpcy5jb250ZXh0LmVsZW1lbnQsCiAgICAgICAgb2xkSW5kZXg6IG9sZEluZGV4LAogICAgICAgIG5ld0luZGV4OiBuZXdJbmRleAogICAgICB9OwogICAgICB0aGlzLmVtaXRDaGFuZ2VzKHsKICAgICAgICBtb3ZlZDogbW92ZWQKICAgICAgfSk7CiAgICB9LAogICAgdXBkYXRlUHJvcGVydHk6IGZ1bmN0aW9uIHVwZGF0ZVByb3BlcnR5KGV2dCwgcHJvcGVydHlOYW1lKSB7CiAgICAgIGV2dC5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eU5hbWUpICYmIChldnRbcHJvcGVydHlOYW1lXSArPSB0aGlzLmhlYWRlck9mZnNldCk7CiAgICB9LAogICAgY29tcHV0ZUZ1dHVyZUluZGV4OiBmdW5jdGlvbiBjb21wdXRlRnV0dXJlSW5kZXgocmVsYXRlZENvbnRleHQsIGV2dCkgewogICAgICBpZiAoIXJlbGF0ZWRDb250ZXh0LmVsZW1lbnQpIHsKICAgICAgICByZXR1cm4gMDsKICAgICAgfQoKICAgICAgdmFyIGRvbUNoaWxkcmVuID0gX3RvQ29uc3VtYWJsZUFycmF5KGV2dC50by5jaGlsZHJlbikuZmlsdGVyKGZ1bmN0aW9uIChlbCkgewogICAgICAgIHJldHVybiBlbC5zdHlsZVsiZGlzcGxheSJdICE9PSAibm9uZSI7CiAgICAgIH0pOwoKICAgICAgdmFyIGN1cnJlbnRET01JbmRleCA9IGRvbUNoaWxkcmVuLmluZGV4T2YoZXZ0LnJlbGF0ZWQpOwogICAgICB2YXIgY3VycmVudEluZGV4ID0gcmVsYXRlZENvbnRleHQuY29tcG9uZW50LmdldFZtSW5kZXgoY3VycmVudERPTUluZGV4KTsKICAgICAgdmFyIGRyYWdnZWRJbkxpc3QgPSBkb21DaGlsZHJlbi5pbmRleE9mKGRyYWdnaW5nRWxlbWVudCkgIT09IC0xOwogICAgICByZXR1cm4gZHJhZ2dlZEluTGlzdCB8fCAhZXZ0LndpbGxJbnNlcnRBZnRlciA/IGN1cnJlbnRJbmRleCA6IGN1cnJlbnRJbmRleCArIDE7CiAgICB9LAogICAgb25EcmFnTW92ZTogZnVuY3Rpb24gb25EcmFnTW92ZShldnQsIG9yaWdpbmFsRXZlbnQpIHsKICAgICAgdmFyIG9uTW92ZSA9IHRoaXMubW92ZTsKCiAgICAgIGlmICghb25Nb3ZlIHx8ICF0aGlzLnJlYWxMaXN0KSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KCiAgICAgIHZhciByZWxhdGVkQ29udGV4dCA9IHRoaXMuZ2V0UmVsYXRlZENvbnRleHRGcm9tTW92ZUV2ZW50KGV2dCk7CiAgICAgIHZhciBkcmFnZ2VkQ29udGV4dCA9IHRoaXMuY29udGV4dDsKICAgICAgdmFyIGZ1dHVyZUluZGV4ID0gdGhpcy5jb21wdXRlRnV0dXJlSW5kZXgocmVsYXRlZENvbnRleHQsIGV2dCk7CiAgICAgIE9iamVjdC5hc3NpZ24oZHJhZ2dlZENvbnRleHQsIHsKICAgICAgICBmdXR1cmVJbmRleDogZnV0dXJlSW5kZXgKICAgICAgfSk7CiAgICAgIHZhciBzZW5kRXZ0ID0gT2JqZWN0LmFzc2lnbih7fSwgZXZ0LCB7CiAgICAgICAgcmVsYXRlZENvbnRleHQ6IHJlbGF0ZWRDb250ZXh0LAogICAgICAgIGRyYWdnZWRDb250ZXh0OiBkcmFnZ2VkQ29udGV4dAogICAgICB9KTsKICAgICAgcmV0dXJuIG9uTW92ZShzZW5kRXZ0LCBvcmlnaW5hbEV2ZW50KTsKICAgIH0sCiAgICBvbkRyYWdFbmQ6IGZ1bmN0aW9uIG9uRHJhZ0VuZCgpIHsKICAgICAgdGhpcy5jb21wdXRlSW5kZXhlcygpOwogICAgICBkcmFnZ2luZ0VsZW1lbnQgPSBudWxsOwogICAgfQogIH0KfTsKCmlmICh0eXBlb2Ygd2luZG93ICE9PSAidW5kZWZpbmVkIiAmJiAiVnVlIiBpbiB3aW5kb3cpIHsKICB3aW5kb3cuVnVlLmNvbXBvbmVudCgiZHJhZ2dhYmxlIiwgZHJhZ2dhYmxlQ29tcG9uZW50KTsKfQoKZXhwb3J0IGRlZmF1bHQgZHJhZ2dhYmxlQ29tcG9uZW50Ow=="},null]}